/**
 * XComponent Component Examples
 * OpenHarmony XComponent Component ä½¿ç”¨ç¤ºä¾‹
 *
 * XComponent æ˜¯åµŒå…¥å¼åŸç”Ÿç»„ä»¶ï¼Œç”¨äºåŠ è½½ C++ ç»˜åˆ¶çš„å†…å®¹
 * é€‚ç”¨äºæ¸¸æˆå¼€å‘ã€OpenGL/Vulkan æ¸²æŸ“ã€è§†é¢‘å¤„ç†ç­‰åœºæ™¯
 */

/**
 * åŸºç¡€ XComponent ç¤ºä¾‹
 * å±•ç¤º XComponent çš„åŸºæœ¬ç”¨æ³•
 */
@ComponentV2
export struct BasicXComponentExample {
  @Local xComponentId: string = 'xcomponent_surface'
  @Local surfaceWidth: number = 0
  @Local surfaceHeight: number = 0
  @Local isInitialized: boolean = false

  build() {
    Column({ space: 12 }) {
      Text('åŸºç¡€ XComponent')
        .fontSize(18)
        .fontWeight(FontWeight.Bold)
        .fontColor('#333333')

      // å°ºå¯¸ä¿¡æ¯
      if (this.isInitialized) {
        Row({ space: 12 }) {
          Row({ space: 4 }) {
            Text('å®½åº¦:')
              .fontSize(12)
              .fontColor('#666666')
            Text(`${this.surfaceWidth}px`)
              .fontSize(12)
              .fontWeight(FontWeight.Medium)
          }

          Row({ space: 4 }) {
            Text('é«˜åº¦:')
              .fontSize(12)
              .fontColor('#666666')
            Text(`${this.surfaceHeight}px`)
              .fontSize(12)
              .fontWeight(FontWeight.Medium)
          }
        }
        .width('100%')
        .padding(8)
        .backgroundColor('#E8F5E9')
        .borderRadius(6)
      }

      // XComponent å ä½ç¬¦
      Column() {
        Text('XComponent å®¹å™¨åŒºåŸŸ')
          .fontSize(14)
          .fontColor('#999999')
          .textAlign(TextAlign.Center)
        Text('éœ€è¦é…ç½® native C++ é¡¹ç›®')
          .fontSize(12)
          .fontColor('#CCCCCC')
          .margin({ top: 4 })
      }
      .width('100%')
      .height(200)
      .justifyContent(FlexAlign.Center)
      .padding(32)
      .border({ width: 2, color: '#DDDDDD', style: BorderStyle.Dashed })
      .borderRadius(8)
      .backgroundColor('#FAFAFA')

      // è¯´æ˜æ–‡æœ¬
      Column({ space: 8 }) {
        Text('âš  éœ€è¦é…ç½®:')
          .fontSize(13)
          .fontWeight(FontWeight.Medium)
          .fontColor('#F57C00')
        Text('â€¢ CMakeLists.txt')
          .fontSize(12)
          .fontColor('#666666')
        Text('â€¢ .so åŠ¨æ€åº“')
          .fontSize(12)
          .fontColor('#666666')
        Text('â€¢ build-profile.json5')
          .fontSize(12)
          .fontColor('#666666')
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#FFF3E0')
      .borderRadius(8)
    }
    .width('100%')
    .padding(16)
    .backgroundColor('#FFFFFF')
    .borderRadius(12)
    .margin({ bottom: 8 })
  }
}

/**
 * å¯è°ƒæ•´å¤§å° XComponent ç¤ºä¾‹
 * å±•ç¤ºå¦‚ä½•åŠ¨æ€è°ƒæ•´ XComponent å°ºå¯¸
 */
@ComponentV2
export struct ResizableXComponentExample {
  @Local componentHeight: number = 250

  build() {
    Column({ space: 12 }) {
      Text('å¯è°ƒæ•´å¤§å°')
        .fontSize(18)
        .fontWeight(FontWeight.Bold)
        .fontColor('#333333')

      // æ§åˆ¶æŒ‰é’®
      Row({ space: 12 }) {
        Button('æ”¾å¤§')
          .fontSize(14)
          .onClick(() => {
            if (this.componentHeight < 500) {
              this.componentHeight += 50
            }
          })

        Text(`${this.componentHeight}px`)
          .fontSize(14)
          .fontColor('#666666')
          .width(70)
          .textAlign(TextAlign.Center)

        Button('ç¼©å°')
          .fontSize(14)
          .onClick(() => {
            if (this.componentHeight > 150) {
              this.componentHeight -= 50
            }
          })
      }
      .width('100%')
      .justifyContent(FlexAlign.SpaceBetween)

      // XComponent å ä½ç¬¦
      Column() {
        Text('XComponent å®¹å™¨')
          .fontSize(14)
          .fontColor('#999999')
      }
      .width('100%')
      .height(this.componentHeight)
      .justifyContent(FlexAlign.Center)
      .border({ width: 2, color: '#DDDDDD', style: BorderStyle.Dashed })
      .borderRadius(8)
      .animation({ duration: 300, curve: Curve.EaseInOut })
    }
    .width('100%')
    .padding(16)
    .backgroundColor('#FFFFFF')
    .borderRadius(12)
  }
}

/**
 * åº”ç”¨åœºæ™¯å¡ç‰‡
 */
@ComponentV2
export struct UseCaseCard {
  @Param title: string = ''
  @Param description: string = ''
  @Param icon: string = ''
  @Param color: string = '#2196F3'

  build() {
    Row({ space: 12 }) {
      Text(this.icon)
        .fontSize(24)
        .width(45)
        .height(45)
        .textAlign(TextAlign.Center)
        .backgroundColor(this.color)
        .fontColor(Color.White)
        .borderRadius(8)

      Column({ space: 4 }) {
        Text(this.title)
          .fontSize(15)
          .fontWeight(FontWeight.Medium)
          .fontColor('#333333')

        Text(this.description)
          .fontSize(12)
          .fontColor('#666666')
      }
      .alignItems(HorizontalAlign.Start)
      .layoutWeight(1)
    }
    .width('100%')
    .padding(12)
    .backgroundColor(Color.White)
    .borderRadius(8)
    .border({ width: 1, color: '#E0E0E0' })
  }
}

/**
 * åº”ç”¨åœºæ™¯ç¤ºä¾‹
 */
@ComponentV2
export struct XComponentUseCasesExample {
  build() {
    Column({ space: 12 }) {
      Text('åº”ç”¨åœºæ™¯')
        .fontSize(18)
        .fontWeight(FontWeight.Bold)
        .fontColor('#333333')

      Column({ space: 10 }) {
        UseCaseCard({
          title: 'æ¸¸æˆå¼€å‘',
          description: 'ä½¿ç”¨ OpenGL/Vulkan è¿›è¡Œé«˜æ€§èƒ½æ¸¸æˆæ¸²æŸ“',
          icon: 'ğŸ®',
          color: '#FF5722'
        })

        UseCaseCard({
          title: 'è§†é¢‘å¤„ç†',
          description: 'åŸç”Ÿè§†é¢‘è§£ç ã€æ»¤é•œå¤„ç†ã€ç¼–ç ç­‰',
          icon: 'ğŸ¬',
          color: '#E91E63'
        })

        UseCaseCard({
          title: 'å›¾å½¢æ¸²æŸ“',
          description: 'å¤æ‚å›¾å½¢ã€å›¾è¡¨ã€æ•°æ®å¯è§†åŒ–ç­‰',
          icon: 'ğŸ“Š',
          color: '#2196F3'
        })

        UseCaseCard({
          title: 'éŸ³è§†é¢‘é€šè¯',
          description: 'ç›¸æœºé¢„è§ˆã€éŸ³è§†é¢‘ç¼–è§£ç å¤„ç†',
          icon: 'ğŸ“¹',
          color: '#4CAF50'
        })
      }
    }
    .width('100%')
    .padding(16)
    .backgroundColor('#FFFFFF')
    .borderRadius(12)
  }
}

/**
 * ä¸»é¡µé¢ç»„ä»¶
 */
@ComponentV2
export struct XComponentExamplePage {
  build() {
    NavDestination() {
      Scroll() {
        Column({ space: 20 }) {
          Text('XComponent Component Examples')
            .fontSize(24)
            .fontWeight(FontWeight.Bold)
            .width('100%')
            .padding({ left: 16, right: 16, top: 16, bottom: 8 })

          BasicXComponentExample()
          ResizableXComponentExample()
          XComponentUseCasesExample()
        }
        .width('100%')
      }
      .width('100%')
      .height('100%')
      .backgroundColor('#F5F5F5')
    }
    .title('XComponent åŸç”Ÿç»„ä»¶')
    .mode(NavDestinationMode.STANDARD)
  }
}

@Builder
export function XComponentExamplePageBuilder() {
  XComponentExamplePage()
}
